<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
	<title>
		<div th:if="${travel!=null }">${travel.title}</div>
	</title>
	<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css">
	<link rel="stylesheet" type="text/css" href="css/home.css">
	<link rel="stylesheet" type="text/css" href="css/travel.css">
	<link rel="stylesheet" type= "text/css" href="css/profil.css">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<style>
.comment-wrapper{
	margin-top: 20px;
	padding: 10px 10px 10px 10px;
	background-color: #f5f5f5;
}

.img-responsive{
	max-height: 50%;
}
</style>
<body style="overflow-x: hidden;" >
	<div class="row">
	<th:block th:include="navbar.html">
    </th:block>
		<div id="welcome-message" style="" class="section">
			<div class="container">
				<div class="row">
					<div class="col-md-8 text-left" style="text-align: justify;">
						<div class="container-fluid">
							<h1 class="text-left" style="margin-bottom: 20px;">
								<div th:if="${travel!=null }">${travel.title }</div>
							</h1>
							<br>
							<div th:if="${travel!=null }">
								<div th:each="thumbnail : ${thumbnails }">
									<div class="mySlides">
										<img src="uploads/${thumbnail }" class="img-responsive slide-img" style="width: 100%";>
									</div>
								</div>
							<div class="caption-container">
    							<p id="caption"></p>
  							</div>
							<a onclick="change_slides(-1)" class="prev"><span class="glyphicon glyphicon-chevron-left"></span></a>
							<a onclick="change_slides(1)" class="next"><span class="glyphicon glyphicon-chevron-right"></span></a>
							<div class="row container-fluid" style="margin-top: 5px;">
							<!-- <c:set var="counter" value="1" scope="page"></c:set> -->
								<div th:each="thumbnail : ${thumbnails }">
									<div class="col-md-2 column">
										<img src="uploads/${thumbnail }" class="img-responsive slide_control" style="width: 100%"; onclick='current_slides("${counter}")' alt="Image">
										<c:set var="counter" value="${counter+1 }" scope="page"></c:set>
									</div>
								</div>
							</div>
							</div>
							<br>
							<div id="content_post">
								<div th:if="${travel!=null }">
									<div th:utext="${travel.contents }"></div>
								</div>
							</div>
						</div>
					</div>
					<div class="col-md-3 col-md-offset-1" style="border:1px solid #c2c2c2; padding-top: -10px; margin-top: 30px; padding-bottom: 30px;">
						<!-- <div style="background-color: #FC9DA0; margin: 0 -15px; margin-bottom: 5px; padding-top: 10px;">
							<h4 class="text-center" style="color: #f5f5f5">Recent News</h4>
							<hr>
						</div>
						<div class="container-fluid">
							<div th:if="${recentNews != null }">
							<div th:each="r_news : ${recentNews }">
							<div class="media">
		  							<div class="media-left media-middle">
		  								<a href="<%= Config.getBase_url()%>detailPost?id_news=${news.getNews_id()}">
		    							<a href="">
		      								<img class="media-object" src="uploads/${r_news.thumbnail }" alt="" style="height: 48px;">
		   								</a>
		  							</div>
		  							<div class="media-body">
		    							<a href="<%= Config.getBase_url()%>detailPost?id_news=${news.getNews_id()}">
		    							<a href="">
		    								<h4 class="media-heading">${r_news.title }</h4>
		    							</a>
		  							</div>
								</div>
								<br>
							</div>
							</div>
						</div> -->
					</div>	
				</div>
					<div class="row">
						<div class="col-md-8 text-left" style="text-align: justify;">
							<div class="container-fluid">
									<div class="row">
										<div class="col-md-6">
											<h4>Likes: ${travel.likes }</h4>
										</div>
										<div class="col-md-6">
											<h4>Dislikes: ${travel.dislikes }</h4>
										</div>
									</div>
									<div th:if="${userLogin != null }">
										<form method="post" action="addLikesAndDislikes">
											<input type="hidden" name="id_travel" value="${travel.travel_id }">
											<input type="hidden" name="likeNumber" value="${travel.likes }">
											<input type="hidden" name="dislikeNumber" value="${travel.dislikes }">
											<input type="submit" name="like" value="Like" class="btn btn-primary">
											<input type="submit" name="dislike" value="Dislike" class="btn btn-warning">
										</form>
									</div>
									<h4>Comments</h4>
									<br>
									<label><h4><b>${userLogin.username }</b></h4>
									</label>
									<div th:if="${userLogin != null }">
										<form method="post" action="addComment">
											<div class="form-group">
												<textarea rows="4" class="form-control" name="comment" placeholder="Comment"></textarea>
											</div>
											<div class="form-group">
												<input type="submit" name="submit" value="Submit" class="btn btn-primary">
											</div>
											<input type="hidden" name="id_travel" value="${travel.travel_id }" >
										</form>
									</div>
								<br>
								<div th:if="${travel != null}">
									<div th:if="comment : ${comments }">
										<div class="comment-wrapper">
											<h4><b>${comment.user.username }</b></h4>
											<p>${comment.comment }</p>
											<div th:if="${userLogin.user_id == comment.user.user_id}">
												<!-- <a href="<%= Config.getBase_url()%>deleteComment?id_comment=${comment.getComment_id()}
													&&id_travel=${comment.getTravel().getTravel_id()}" style="text-decoration: underline;">Delete</a> -->
													<a href="" style="text-decoration: underline;">Delete</a>
											</div>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		<th:block th:include="footer.html"></th:block>
		<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
		<script type="text/javascript" src="<%=Config.getBase_url()+"js/bootstrap.js" %>"></script>
		<script type="text/javascript" src="<%=Config.getBase_url()+"js/slides.js" %>"></script>
	</div>
</body>
</html>